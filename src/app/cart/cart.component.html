<app-top-bar></app-top-bar>
<app-header></app-header>

<!-- cart + summary -->
<div [ngClass]="{ 'dark-mood': this._themeservice.isDarkMood }">
  <section class="pt-4">
    <div class="container">
      <div class="row">
        <!-- cart -->
        <div class="d-flex gap-5 col-lg-9">
          <div
            class="card border shadow-0"
            [ngClass]="{ 'dark-mood-item': this._themeservice.isDarkMood }"
          >
            <div class="m-4">
              <h4
                class="card-title mb-4"
                [ngClass]="{ 'dark-mood-text': this._themeservice.isDarkMood }"
              >
                Your shopping cart
              </h4>
              @for (item of items["products"]; track item.id) {
                <app-cart-item
                  [item]="item"
                  (itemDeleted)="handleItemDeleted($event)"
                ></app-cart-item>
              }
            </div>

            <div
              class="border-top pt-4 mx-4 mb-4"
              [ngClass]="{ 'dark-mood-mini': this._themeservice.isDarkMood }"
            >
              <p
                [ngClass]="{ 'dark-mood-icone': this._themeservice.isDarkMood }"
              >
                <i class="fas fa-truck fa-lg"></i> Free Delivery within 1-2
                weeks
              </p>
              <p
                [ngClass]="{ 'dark-mood-icone': this._themeservice.isDarkMood }"
              >
                FREE STANDARD SHIPPING Estimated to be delivered on 03/14/2024 -
                03/16/2024.
                <br />
                75.56% are â‰¤ 10 days
              </p>

              <div class="border-top pt-4 mx-4 mb-4">
                <!-- <p>
              <i class="fas fa-truck text-muted fa-lg"></i> Free Delivery within
              1-2 weeks
            </p>
            <p class="text-muted">
              Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
              enim ad minim veniam, quis nostrud exercitation ullamco laboris
              nisi ut aliquip
            </p> -->
              </div>
            </div>
          </div>

          <!-- cart -->
          <!-- summary -->
          <div class="col-lg-3">
            <div class="card shadow-0 border">
              <div
                class="card-body"
                [ngClass]="{ 'dark-mood-mini': this._themeservice.isDarkMood }"
              >
                <div class="d-flex justify-content-between">
                  <p class="mb-2">price:</p>
                  <p class="mb-2">$329.00</p>
                </div>

                <div class="d-flex justify-content-between">
                  <p class="mb-2">TAX:</p>
                  <p class="mb-2">$14.00</p>
                </div>
                <hr />
                <div class="d-flex justify-content-between">
                  <p class="mb-2">Total price:</p>
                  <p class="mb-2 fw-bold">${{ _cartService.getTotal() }}</p>
                </div>
                <div class="mb-3 w-25">
                  <label for="paymentMethod" class="form-label"
                    >Payment Method</label
                  >
                  <select
                    class="form-select"
                    id="paymentMethod"
                    name="paymentMethod"
                    required
                  >
                    <option
                      *ngFor="let method of paymentMethods"
                      [value]="method.id"
                    >
                      {{ method.name }}
                    </option>
                  </select>
                </div>
                <div class="mt-3">
                  <a
                    href="#"
                    class="btn btn-warning w-100 shadow-0 mb-2"
                    (click)="emptyCart(items)"
                  >
                    Check out
                  </a>
                  <a
                    [routerLink]="'/deals'"
                    class="btn btn-light w-100 border mt-2"
                    [ngClass]="{
                      'btn-dark-mood': this._themeservice.isDarkMood
                    }"
                  >
                    <!-- Back to shop -->
                    Continue Shopping
                  </a>
                </div>
              </div>
            </div>
          </div>
          <!-- summary -->
          <!-- </div> -->
          <!-- </div> -->
        </div>
      </div>
    </div>
  </section>
</div>
<!-- Recommended items -->
<header class="mb-4 ms-5 mt-4">
  <h3>Recommended items</h3>
</header>
@for (product of recommendedProducts; track $index) {
  <app-recommended [product]="product"></app-recommended>
}
<!-- Footer -->
<app-footer></app-footer>
<!-- Footer -->
